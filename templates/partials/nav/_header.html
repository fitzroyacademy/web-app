<header>

  {% if not url_is('lesson.view', 'segment.view')  %}

    <div class="container"> 
  
  {% endif %}

    <!-- Left hand side logic -->
    <!-- ---------------------------------------------------------------- -->

    {% if url_is('course.view') %}

      {% include 'partials/nav/_header_link_home.html' %}

    {% elif url_is('lesson.view', 'segment.view') %}

      {% include 'partials/nav/_header_link_coursetitle.html' %}

    {% else %}

      <a href="/" class="fit_device">
        {% include 'partials/chrome/_fa_svg_square.html' %}
      </a>

      {% include 'partials/nav/_header_nav_code.html' %}

      {% include 'partials/nav/_header_loading.html' %}

    {% endif %}

    <!-- Right hand side logic -->
    <!-- ---------------------------------------------------------------- -->

      {% if url_is('course.view', 'lesson.view', 'segment.view') %}

        <div class="right">

          {% if current_user %}
            
            {% include 'partials/nav/_header_link_user.html' %}

          {% else %}

            {% include 'partials/nav/_header_link_login.html' %}

          {% endif %}

        </div>
      
      {% else %}

        {% include 'partials/nav/_header_nav_sales.html' %}

      {% endif %}


    {% if not url_is('lesson.view', 'segment.view')  %}

      </div> 
  
    {% endif %}

</header>


{% if current_user %}

  {% include 'partials/nav/_sidepanel_user.html' %}

{% else %}

  {% include 'partials/nav/_sidepanel_login.html' %}

{% endif %}

<!--

Psuedocode for how the header should work:

When the user is on the home page:
 * If logged in: Code on the left, sales on right
 * If anon: Code on the left, sales on right

When the user is on a course or lesson
 * If logged in: back on left, my details on right
 * If anon: back on left, login on right

When the user is on a static page
 * If logged in: code on left, sales PLUS my details on right?
 * If anon: Code on the left, sales on right

When the user is on their user page
 * If logged in: Back to home on left?
 * If anon: 

by login, maybe?

If logged in:

* home = code + sales
* course intro = home + me
* course lesson = back to intro + me
* static = code + sales
* user = home + ___

If anon:

* home = code + sales
* course intro = home + sales
* course lesson = back + sales
* static = code + sales
* user = home + ___

AAARGH.

-->



