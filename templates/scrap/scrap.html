
class="foo {{ 'class_here' if url_is("about.location") }}"




course.view = course intro
lesson.view = viewing lesson within course
segment.view = viewing segments
user.view = course playing



{% if url_is('course.view') %}
   Course View!
{% endif %}

{% if url_is('course.view') %}
    You're on the course view.
{% else %}
    <a href="{{ url_for('course.view') }}">Go to course view.</a>
{% endif %}

<a href="{{ url_for('course.view') }}"
  class="{{ 'active' if url_is('course.view') }}">
    Course Overview
</a>



<!-- reset for OG site -->
https://fitzroyacademy.com/login/doreset/79/3npnak9kue6wJUpoCM3AUH0Qnll0uGkpfSKOr1qzruT5VNdLVhERtDtFtINcvgGX



Number of clicks on resources:
https://github.com/fitzroyacademy/web-app/issues/126#issuecomment-527606348
You can now get this with resource.views_by_user(current_user), resource.total_views, and resource.anonymous_views.

aggregate progress for users:
https://github.com/fitzroyacademy/web-app/issues/137


{% if current_user %}
  {% include 'partials/nav/_user_loggedin.html' %}
{% else %}
  {% include 'partials/nav/_code.html' %}
{% endif %}



<!-- checking multiple things on the one 'helper function' -->

{% if url_is('lesson.view', 'segment.view') %}

<!-- using ors: -->
{% if url_is('lesson.view') or url_is('lesson.view') %}
<!-- returns true -->

checking false:
{% if not url_is('lesson.view') %}

<!-- checking multiple nots -->
{% if not url_is('lesson.view') and not url_is('lesson.view') %}


{% if url_is('lesson.view') %}

FOO

{% elif url_is('bah.view') %}

BAR

{% else %}

MOOP

{% endif %}


<span class="fit_badge">
    {{ course.course_code }}
    <!--    DEV: Make this work later          
    <a data-clipboard-target="#secretive_clipboard" data-clipboard-action="copy" data-toggle="tooltip" title="Copy to clipboard">
      <i class="fas fa-copy"></i>
    </a>
     -->
  </sn>
<input type="hidden" id="secretive_clipboard" value="{{ course.course_code }}" value="">




<!--

For some reason we are keeping all the scrap here?

<div class="fit">
  <a class="fit_btn  collapsed" data-toggle="collapse" href="#fit_lesson_faqs" role="button" aria-expanded="fitse" aria-controls="fit_lesson_faqs">
    <i class="fal fa-question"></i>
    <span class="fit_txt">Frequently asked questions</span>
    <span class="fas fa-chevron-down"></span>
  </a>
  <div class="fit_body collapse" id="fit_lesson_faqs">
    <div class="fit_body_content">

      <h5>What's with Vermeulen and van den Akker?</h5>
      <p>He is some big ol kinda jerk and you probably wouldn't like him hey.</p>
      
      <h5>Also my butt?</h5>
      <p>The prefix "meta-" here referred not to a reflective stance or repeated rumination, but to Plato's metaxy, which denotes a movement between opposite poles as well as beyond them.</p>

      <h5>And what about your butt?</h5>
      <p>Vermeulen asserts that "metamodernism is not so much a philosophy—which implies a closed ontology—as it is an attempt at a vernacular, or a sort of open source document.</p>

      <a class="fit_btn subtle " href="#">
        <span class="fas fa-arrow-left"></span>
        <span class="fit_txt">Load 8 more FAQs</span>
      </a>

    </div>
  </div>
  </div>

  <div class="fit">
  <a class="fit_btn  collapsed" data-toggle="collapse" href="#fit_lesson_transcript" role="button" aria-expanded="fitse" aria-controls="fit_lesson_transcript">
    <i class="fal fa-scroll"></i>
    <span class="fit_txt">Transcript</span>
    <span class="fas fa-chevron-down"></span>
  </a>
  <div class="fit_body collapse" id="fit_lesson_transcript">
    <div class="fit_body_content">
      <p>The term metamodernist appeared as early as 1975, when Mas'ud Zavarzadeh isolatedly used it to describe a cluster of aesthetics or attitudes which had been emerging in American literary narratives since the mid-1950s.</p>
      <a class="fit_btn subtle " href="#">
        <span class="fas fa-arrow-left"></span>
        <span class="fit_txt">Full transcript</span>
      </a>            
    </div>
  </div>
  </div>      

  <div class="fit fit_overflow">
  <a class="fit_btn " data-toggle="collapse" href="#fit_lesson_stats" role="button" aria-expanded="fitse" aria-controls="fit_lesson_stats">
    <i class="fal fa-chart-bar"></i>
    <span class="fit_txt">Analytics <span href="#" class="badge badge-light">admins only</span></span>
    <span class="fas fa-chevron-down"></span>
  </a>

  <div class="fit_body collapse show person_active" id="fit_lesson_stats">
    <div class="fit_body_content">
      <form class="form">
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1"><i class="fas fa-search"></i></span>
            </div>
            <input type="text" class="form-control" name="search" value="" id="search" placeholder="Filter" aria-label="search" aria-describedby="search">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button"><i class="fas fa-sort"></i> <span class="d-none d-sm-inline-block"></button>
            </div>
          </div>  
        </div>
      </form>

      <div id="fit_student_list">
        {% include 'partials/_student_list.html' %}
      </div>
    </div>
  </div>
-->




Psuedocode for how the header should work:

When the user is on the home page:
 * If logged in: Code on the left, sales on right
 * If anon: Code on the left, sales on right

When the user is on a course or lesson
 * If logged in: back on left, my details on right
 * If anon: back on left, login on right

When the user is on a static page
 * If logged in: code on left, sales PLUS my details on right?
 * If anon: Code on the left, sales on right

When the user is on their user page
 * If logged in: Back to home on left?
 * If anon: 

by login, maybe?

If logged in:

* home = code + sales
* course intro = home + me
* course lesson = back to intro + me
* static = code + sales
* user = home + ___

If anon:

* home = code + sales
* course intro = home + sales
* course lesson = back + sales
* static = code + sales
* user = home + ___

AAARGH.

